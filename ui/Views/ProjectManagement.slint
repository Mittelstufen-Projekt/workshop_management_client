import { HorizontalBox, VerticalBox } from "std-widgets.slint";
import { Appbar } from "../Widgets/Appbar.slint";
import { ProjectOverViewRowShort } from "../Widgets/ProjectOverViewRowShort.slint";
import { WMSAppbar } from "../Widgets/WMSAppbar.slint";
import { Constants } from "../Constants.slint";
import { RowTest } from "../Widgets/Rowtest.slint";
import { ProjectRowShort } from "../Widgets/ProjectRowShort.slint";
import { Palette } from "../Palette.slint";
import { Button } from "../Widgets/Button.slint";
import { ProjectModel } from "../models/ProjectModel.slint";


//Refactor
export component ProjectManagement inherits VerticalBox {

    in-out property <[ProjectModel]> allProjects;

    VerticalBox {
        alignment: start;
        HorizontalLayout {
            Text {
                text: Constants.project_overview;
                font-size: Palette.page-title-font-size * 1px;
                color: Palette.text-color;
            }
            Button {
                height: Palette.font-size * 2px;
                width: 40px;
                text: "â¬…";
                clicked => {
                    //onBackButtonPress();
                }
            }
        }
        WMSAppbar {
            buttonTitle: Constants.search;
        }
        Rectangle {height: 50px;}
        // TODO(jmeusel): Button fehlt 
        // Button {
        //     width: 35px;
        //     height: 40px;
        //     text: "X";
        //     fontSizeMultiplier: 1.5px;
        // }
        for project[i] in allProjects: ProjectRowShort {
            client: allProjects[i].client;
            project: allProjects[i].name;
            costs: allProjects[i].current_costs;
            deadline: allProjects[i].project_deadline;
            clicked => {
                // TODO(jmeusel): Navigate to the ProjectOverview for project[i]
            }
        }
        Rectangle {max-width: 20px;}
    }
}

